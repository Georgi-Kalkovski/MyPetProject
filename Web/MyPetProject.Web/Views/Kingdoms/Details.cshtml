@model MyPetProject.Data.Models.Kingdom

@{
    ViewData["Title"] = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section Scripts
{
    <link href="~/css/details.css" rel="stylesheet" />
}

@{
    var modelName = "Kingdoms";

    var name = Model.Name;
    var picture = Model.PicUrl;
    var description = Model.Description;
    var group = Model.Group;
    var diet = Model.Diet;
    var isPet = Model.IsPet;
    var isFarm = Model.IsFarm;
    var user = Model.UserId;

    <div class="d-flex h-100 text-center">
        <div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">

            <main class="card px-5 nav flexing" style="border-radius: 50px;">

                <h3>Kingdom</h3>
                <h1>@name</h1>
                <p class="lead mx-auto d-block" style="max-width: 70%; height: auto;">
                    @if (!picture.StartsWith("http"))
                    {
                        if (!picture.EndsWith(".jpg") && !picture.EndsWith(".png") && !picture.EndsWith(".jpeg"))
                        {
                            <img class="card-img" src="~/img/no-image.png" alt="Card image cap">
                        }
                        else
                        {
                            <img class="card-img" src="~/img/@modelName/@picture" alt="Card image cap">
                        }
                    }
                    else
                    {
                        <img class="card-img" src="@picture" alt="Card image cap">
                    }
                </p>
                <p class="lead">Group: <a href="~/@modelName/@group">@group</a>  |  Diet: <a href="~/@modelName/@diet">@diet</a></p>
                <p class="lead">
                    Is it <a href="~/HomeAnimals">Pet</a> Animal ? : @if (@isPet)
                    {<span style="color:green">✔</span>}
                    else
                    { <span style="color:darkred">✘</span>}
                </p>
                <p class="lead">
                    Is it <a href="~/FarmAnimals">Farm</a> Animal ? :@if (isFarm)
                    {<span style="color:green">✔</span>}
                    else
                    { <span style="color:darkred">✘</span>}
                </p>
                <p class="lead">@description</p>

                <p class="lead">
                    <a asp-action="Index" class="btn btn-primary">Go Back</a>
                    @{
                        var userId = "";
                        if (this.User.Claims.Any())
                        {
                            userId = this.User.Claims.ToList()[0].Value;
                            if (user == userId)
                            {
                                <a asp-action="Edit" asp-route-id="@name" class="btn btn-warning">Edit</a>
                                <a asp-action="Delete" asp-route-id="@name" class="btn btn-danger">Delete</a>
                            }
                        }
                    }
                </p>
            </main>
        </div>
    </div>
}